<!DOCTYPE html>
<html lang="jp">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>社員情報編集</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <h1>社員情報編集</h1>
   	<form {% if employee %}action="{{ url_for('update_employee',id=employee.e_id)}}" {% else %}action="/add" {% endif %} method="post">
   		{{ form.csrf_token }}
   		{{ form.hidden_tag() }}
    	<table>
    		<tr>
    			<td>
    				{{ form.e_name.label }}
					<br>
					<input type="text" name="e_name" {% if employee %}value="{{ employee.e_name }}"{% endif %} />
    				{% for error in form.e_name.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    			<td>
    				{{ form.e_name_kana.label }}
    				<br>
    				<input type="text" name="e_name_kana" {% if employee %}value="{{ employee.e_name_kana }}"{% endif %} />
    				{% for error in form.e_name_kana.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    		</tr>
    		<tr>
    			<td>
    				<br>
    				{{ form.e_name_en.label }}
    				<br>
    				<input type="text" name="e_name_en" {% if employee %}value="{{ employee.e_name_en }}"{% endif %} />
    				{% for error in form.e_name_en.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    		</tr>
    		<tr>
    			<td>
    				<br>
    				{{ form.sex.label }}
    				<br>
	    			<input type="radio" name="sex" value="男性" {% if employee %}{% if employee.sex=="男性" %}checked="checked"{% endif %}{% endif %}/>男性
	    			<input type="radio" name="sex" value="女性" {% if employee %}{% if employee.sex=="女性" %}checked="checked"{% endif %}{% endif %}/>女性
    			</td>
    			<td>
    				<br>
    				{{ form.birthday.label }}
    				<br>
    				<input type="text" name="birthday" {% if employee %}value="{{ employee.birthday }}"{% endif %} />
    				{% for error in form.birthday.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    		</tr>
    		<tr>
    			<td>
    				<br>
    				{{ form.postal_code.label }}
    				<br>
    				<input type="text" name="postal_code" {% if employee %}value="{{ employee.postal_code }}"{% endif %} />
    				{% for error in form.postal_code.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    			<td>
    				<br>
    				{{ form.address.label }}
    				<br>
    				<input type="text" name="address" {% if employee %}value="{{ employee.address }}{% endif %}" />
    				{% for error in form.address.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    		</tr>
    		<tr>
    			<td>
    				<br>
    				{{ form.phone_number.label }}
    				<br>
    				<input type="text" name="phone_number" {% if employee %}value="{{ employee.phone_number }}"{% endif %} />
    				{% for error in form.phone_number.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    			<td>
    				<br>
    				{{ form.email.label }}
    				<br>
    				<input type="text" name="email" {% if employee %}value="{{ employee.email }}"{% endif %} />
    				{% for error in form.email.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    		</tr>
    		<tr>
    			<td>
    				<br>
    				{{ form.final_education.label }}
    				<br>
    				<input type="text" name="final_education" {% if employee %}value="{{ employee.final_education }}"{% endif %} />
    				{% for error in form.final_education.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    			<td>
    				<br>
    				<br>
    				<select name="final_education2">
    				<br>
    				{% if employee %}
	    				{% if employee.final_education2=="卒業" %}
		    				<option value="卒業">卒業</option>
		    				<option value="中退">中退</option>
		    				<option value="在学中">在学中</option>
		    			{% elif employee.final_education2=="中退" %}
		    				<option value="卒業">卒業</option>
		    				<option value="中退" selected>中退</option>
		    				<option value="在学中">在学中</option>
		    			{% else %}
		    				<option value="卒業">卒業</option>
		    				<option value="中退">中退</option>
		    				<option value="在学中" selected>在学中</option>
		    			{% endif %}
		    		{% else %}
		    			<option value="卒業">卒業</option>
		    			<option value="中退">中退</option>
		    			<option value="在学中">在学中</option>
		    		{% endif %}
    			</td>
    		</tr>
    		<tr>
    			<td>
    				<br>
    				{{ form.e_id.label }}
    				<br>
    				<input type="text" name="e_id" {% if employee %}value="{{ employee.e_id }}"{% endif %} disabled="disabled" />
    				{% for error in form.e_id.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    			<td>
    				<br>
    				{{ form.join_date.label }}
    				<br>
    				<input type="text" name="join_date" {% if employee %}value="{{ employee.join_date }}"{% endif %} />
    				{% for error in form.join_date.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    		</tr>
    		<tr>
    			<td>
    				<br>
    				{{ form.company_email.label }}
    				<br>
    				<input type="text" name="company_email" {% if employee %}value="{{ employee.company_email }}" {% else %}disabled="disabled"{% endif %} />
    				{% for error in form.company_email.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    			<td>
    				<br>
    				{{ form.image.label }}
    				<br>
    				<input type="file" name="image" {% if employee %}value="{{ employee.image }}"{% endif %} />
    				{% for error in form.image.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    		</tr>
    		<tr>
    			<td>
    				<br>
    				{{ form.branch_id.label }}
					<br>
					<select name="branch_id">
						{% for branch in branch %}
							<option value="{{ branch.branch_id }}">{{ branch.branch_name }}</option>
						{% endfor %}
					</select>
    				{% for error in form.branch_id.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    			<td>
    				<br>
    				{{ form.department_id.label }}
					<br>
					<select name="department_id">
						{% for department in department %}
							<option value="{{ department.department_id }}">{{ department.department_name }}</option>
						{% endfor %}
					</select>
    				{% for error in form.department_id.errors %}
						<span style="color: red;">{{ error }}</span>
					{% endfor %}
    			</td>
    		</tr>
	    </table>
	    {% if employee %}
	   		<a href="{{ url_for('detail',id=employee.e_id)}}">
	   	{% else %}
	   		<a href="http://192.168.33.182/index">
	   	{% endif %}
			<button type="button">戻る</button>
   		</a>
   		<input type="submit" value="登録">
   	</form>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  </body>
</html>
